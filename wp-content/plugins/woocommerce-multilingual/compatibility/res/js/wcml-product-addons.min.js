jQuery((function($){function setupMulticurrencyDialogForItem(addonItem){addonItem.find(".wc-pao-addon-type-select, .product_addon_type").val();addonItem.find(".wc-pao-addon-adjust-price-settings").append(addonItem.find(".wc-pao-addon-content>.wcml-option-prices")),addonItem.find(".wcml-option-prices .wc_input_price").each((function(){$(this).prop("disabled",!1)}))}function isManualSecondaryPricesEnabled(){return 1==$(".wcml_custom_prices_input:checked").val()}function isAddonTypeWithMultipleOptions(addonType){return"multiple_choice"===addonType||"checkbox"===addonType}$(".wc-pao-addon").each((function(){setupMulticurrencyDialogForItem($(this))})),function(){const wrapperInGlobalAddons=$(".wcml_custom_prices");wrapperInGlobalAddons.length>0&&wrapperInGlobalAddons.insertAfter($(".global-addons-form tr:eq(2)")).show()}(),function(){const addonItems=document.querySelector("#product_addons_data .wc-pao-addons");if(addonItems){new MutationObserver((function(mutations){mutations.forEach((function(mutation){mutation.addedNodes.length&&mutation.addedNodes.forEach((function(addedNode){const addonItem=$(addedNode);setupMulticurrencyDialogForItem(addonItem),function(addonItem){isManualSecondaryPricesEnabled()&&addonItem.find(".js-wcml-option-prices").each((function(){$(this).removeClass("hidden")}))}(addonItem)}))}))})).observe(addonItems,{childList:!0,subtree:!0})}}(),$(document).on("click","#product_addons_data .js-wcml-dialog-trigger",(function(){const dialog=$(this).parent().find(".wcml-dialog"),priceInDefaultCurrency=$(this).parent().parent().find("input.wc_input_price").val(),addonType=$(this).closest(".wc-pao-addon").find(".wc-pao-addon-type-select, .product_addon_type").val();let dialogLabel;dialog.find(".default-price strong").html(priceInDefaultCurrency||0),dialogLabel=isAddonTypeWithMultipleOptions(addonType)?$(this).parent().parent().find('.wc-pao-addon-content-label input[type="text"]').val():$(this).closest(".wc-pao-addon-content").find('.wc-pao-addon-title input[type="text"]').val();dialogLabel&&dialog.find("p>strong").html(dialogLabel)})),$(document).on("click",".wcml_product_addons_apply_prices",(function(){const dialog=$(this).closest(".wcml-ui-dialog"),dialogId=$(this).data("dialog");dialog.find(".wc_input_price").each((function(){$(".wcml-dialog#"+dialogId).find('input[name="'+$(this).attr("name")+'"]').attr("value",$(this).val())})),dialog.find(".wcml-dialog-close-button").trigger("click")})),$(document).on("change",".wcml_custom_prices_input",(function(){const isEnabled=isManualSecondaryPricesEnabled();$("#product_addons_data .js-wcml-option-prices").each((function(){isEnabled?$(this).removeClass("hidden"):$(this).addClass("hidden")}))})),$(document).on("change",".wc-pao-addon-type-select",(function(event){const typeSelect=$(event.target),addonItem=typeSelect.closest(".wc-pao-addon"),isMultipleOptions=isAddonTypeWithMultipleOptions(typeSelect.val());addonItem.find(".wc-pao-addon-content-option-rows .wcml-option-prices .wc_input_price").each((function(){jQuery(this).prop("disabled",!isMultipleOptions)})),addonItem.find(".wc-pao-addon-adjust-price-settings .wcml-option-prices .wc_input_price").each((function(){jQuery(this).prop("disabled",isMultipleOptions)}))}))}));